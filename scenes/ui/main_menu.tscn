[gd_scene load_steps=9 format=3 uid="uid://tsfaclpdbofl"]

[ext_resource type="Script" path="res://scenes/ui/main_menu.gd" id="1_b0wja"]
[ext_resource type="Theme" uid="uid://cwt3w4hm8o87b" path="res://assets/resources/ui/theme_a.tres" id="1_oirqw"]
[ext_resource type="Script" path="res://scenes/ui/slider_input.gd" id="3_cpm03"]

[sub_resource type="Animation" id="Animation_v5kc5"]
resource_name = "start"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Main:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(0, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Options:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(-641, 0)]
}

[sub_resource type="Animation" id="Animation_kgpfh"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Main:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(0, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Options:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(-641, 0)]
}

[sub_resource type="Animation" id="Animation_1hjmr"]
resource_name = "options_open"
length = 0.6
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Main:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.6),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(0, 0), Vector2(640, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Options:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.6),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(-641, 0), Vector2(-1, 0)]
}

[sub_resource type="Animation" id="Animation_tomv1"]
resource_name = "options_close"
length = 0.6
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Main:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.6),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(640, 0), Vector2(0, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Options:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.6),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(-1, 0), Vector2(-641, 0)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_c5ufq"]
_data = {
"RESET": SubResource("Animation_kgpfh"),
"options_close": SubResource("Animation_tomv1"),
"options_open": SubResource("Animation_1hjmr"),
"start": SubResource("Animation_v5kc5")
}

[node name="MainMenu" type="Control" node_paths=PackedStringArray("anim")]
texture_filter = 1
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme = ExtResource("1_oirqw")
script = ExtResource("1_b0wja")
anim = NodePath("AnimationPlayer")

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_c5ufq")
}
autoplay = "start"

[node name="Main" type="Control" parent="."]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_right = 0.000610352
grow_horizontal = 2
grow_vertical = 2

[node name="Play" type="Button" parent="Main"]
layout_mode = 2
anchor_left = 0.048
anchor_top = 0.502
anchor_right = 0.769
anchor_bottom = 0.619
offset_left = 0.279999
offset_top = 0.039978
offset_right = -0.160034
offset_bottom = -0.119995
size_flags_vertical = 3
focus_neighbor_top = NodePath("../Quit")
focus_neighbor_bottom = NodePath("../Options")
focus_next = NodePath("../Options")
focus_previous = NodePath("../Quit")
text = "Play"

[node name="Options" type="Button" parent="Main"]
layout_mode = 2
anchor_left = 0.08
anchor_top = 0.627
anchor_right = 0.8
anchor_bottom = 0.746
offset_left = -0.200005
offset_top = 0.039978
offset_bottom = -0.0800171
size_flags_vertical = 3
focus_neighbor_top = NodePath("../Play")
focus_neighbor_bottom = NodePath("../Credits")
focus_next = NodePath("../Credits")
focus_previous = NodePath("../Play")
text = "Options"

[node name="Credits" type="Button" parent="Main"]
layout_mode = 2
anchor_left = 0.111
anchor_top = 0.754
anchor_right = 0.831
anchor_bottom = 0.873
offset_left = -0.0400085
offset_top = 0.0799866
offset_right = 0.159973
offset_bottom = -0.0400085
size_flags_vertical = 3
focus_neighbor_top = NodePath("../Options")
focus_neighbor_bottom = NodePath("../Quit")
focus_next = NodePath("../Quit")
focus_previous = NodePath("../Options")
text = "Credits"

[node name="Quit" type="Button" parent="Main"]
layout_mode = 2
anchor_left = 0.142
anchor_top = 0.881
anchor_right = 0.862
anchor_bottom = 1.0
offset_left = 0.119995
offset_top = 0.119995
offset_right = 0.319946
size_flags_vertical = 3
focus_neighbor_top = NodePath("../Credits")
focus_neighbor_bottom = NodePath("../Play")
focus_next = NodePath("../Play")
focus_previous = NodePath("../Credits")
text = "Quit"

[node name="Options" type="Control" parent="."]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -641.0
offset_right = -641.0
grow_horizontal = 2
grow_vertical = 2

[node name="Panel" type="Panel" parent="Options"]
layout_mode = 1
anchors_preset = -1
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 80.0
offset_top = 40.0
offset_right = -80.0
offset_bottom = -40.0
grow_horizontal = 2
grow_vertical = 2

[node name="VBoxContainer" type="VBoxContainer" parent="Options/Panel"]
layout_mode = 1
anchors_preset = -1
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 20.0
offset_top = 20.0
offset_right = -20.0
offset_bottom = -20.0
grow_horizontal = 2
grow_vertical = 2

[node name="Label" type="Label" parent="Options/Panel/VBoxContainer"]
layout_mode = 2
size_flags_vertical = 6
text = "OPTIONS"
horizontal_alignment = 1
vertical_alignment = 1

[node name="mus_vol" type="HBoxContainer" parent="Options/Panel/VBoxContainer" node_paths=PackedStringArray("slider", "label", "marker")]
layout_mode = 2
size_flags_vertical = 6
focus_neighbor_left = NodePath(".")
focus_neighbor_top = NodePath("../finished")
focus_neighbor_right = NodePath(".")
focus_neighbor_bottom = NodePath("../sfx_vol")
focus_mode = 2
script = ExtResource("3_cpm03")
slider = NodePath("HSlider")
label = NodePath("value")
marker = NodePath("../mus_marker")

[node name="Label" type="Label" parent="Options/Panel/VBoxContainer/mus_vol"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_stretch_ratio = 1.62
text = "MUSIC VOL"

[node name="HSlider" type="HSlider" parent="Options/Panel/VBoxContainer/mus_vol"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_stretch_ratio = 1.62
focus_mode = 0
max_value = 10.0
value = 10.0

[node name="value" type="Label" parent="Options/Panel/VBoxContainer/mus_vol"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_stretch_ratio = 0.38
text = "10"
horizontal_alignment = 1
vertical_alignment = 1

[node name="mus_marker" type="ColorRect" parent="Options/Panel/VBoxContainer"]
visible = false
custom_minimum_size = Vector2(0, 4)
layout_mode = 2
color = Color(0.67451, 0.196078, 0.196078, 1)

[node name="sfx_vol" type="HBoxContainer" parent="Options/Panel/VBoxContainer" node_paths=PackedStringArray("slider", "label", "marker")]
layout_mode = 2
size_flags_vertical = 6
focus_neighbor_left = NodePath(".")
focus_neighbor_top = NodePath("../mus_vol")
focus_neighbor_right = NodePath(".")
focus_neighbor_bottom = NodePath("../swap_confirm")
focus_mode = 2
script = ExtResource("3_cpm03")
slider = NodePath("HSlider")
label = NodePath("value")
marker = NodePath("../sfx_marker")

[node name="Label" type="Label" parent="Options/Panel/VBoxContainer/sfx_vol"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_stretch_ratio = 1.62
text = "SFX Vol"

[node name="HSlider" type="HSlider" parent="Options/Panel/VBoxContainer/sfx_vol"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_stretch_ratio = 1.62
focus_mode = 0
max_value = 10.0
value = 10.0

[node name="value" type="Label" parent="Options/Panel/VBoxContainer/sfx_vol"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_stretch_ratio = 0.38
text = "10"
horizontal_alignment = 1
vertical_alignment = 1

[node name="sfx_marker" type="ColorRect" parent="Options/Panel/VBoxContainer"]
visible = false
custom_minimum_size = Vector2(0, 4)
layout_mode = 2
color = Color(0.67451, 0.196078, 0.196078, 1)

[node name="swap_confirm" type="CheckButton" parent="Options/Panel/VBoxContainer"]
custom_minimum_size = Vector2(0, 60)
layout_mode = 2
size_flags_vertical = 6
focus_neighbor_top = NodePath("../sfx_vol")
focus_neighbor_bottom = NodePath("../finished")
text = "Swap A-B"

[node name="finished" type="Button" parent="Options/Panel/VBoxContainer"]
layout_mode = 2
size_flags_vertical = 3
focus_neighbor_top = NodePath("../swap_confirm")
focus_neighbor_bottom = NodePath("../mus_vol")
text = "Done"

[connection signal="pressed" from="Main/Options" to="." method="main_button_event" binds= ["options"]]
[connection signal="focus_entered" from="Options/Panel/VBoxContainer/mus_vol" to="Options/Panel/VBoxContainer/mus_vol" method="_on_focus_entered"]
[connection signal="focus_exited" from="Options/Panel/VBoxContainer/mus_vol" to="Options/Panel/VBoxContainer/mus_vol" method="_on_focus_exited"]
[connection signal="focus_entered" from="Options/Panel/VBoxContainer/sfx_vol" to="Options/Panel/VBoxContainer/sfx_vol" method="_on_focus_entered"]
[connection signal="focus_exited" from="Options/Panel/VBoxContainer/sfx_vol" to="Options/Panel/VBoxContainer/sfx_vol" method="_on_focus_exited"]
[connection signal="pressed" from="Options/Panel/VBoxContainer/swap_confirm" to="." method="option_button_event" binds= ["swap_ab"]]
[connection signal="pressed" from="Options/Panel/VBoxContainer/finished" to="." method="option_button_event" binds= ["options_done"]]
